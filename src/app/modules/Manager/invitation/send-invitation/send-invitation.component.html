<div class="container-xxl flex-grow-1 container-p-y">
  <div class="row">
    <div class="col-md-12">
      <div class="card mb-4">
        <h5 class="card-header">Send Invitation</h5>
        <!-- Account -->
        <div class="card-body"></div>
        <hr class="my-0" />
        <div class="card-body">
          <form [formGroup]="form">
            <div class="row">
              <div class="mb-3 col-md-6">
                <label for="projectId" class="form-label">Project</label>
                <select
                  id="projectId"
                  class="form-select"
                  formControlName="projectId"
                  required
                >
                  <!-- liste des roles par id -->
                  <option *ngFor="let p of projects">
                    {{ p.title }}
                  </option>
                </select>
                <div>Please select project.</div>
              </div>
              <div class="mb-3 col-md-6">
                <label for="members" class="form-label">Member</label>
                <select
                  id="members"
                  class="form-select"
                  formControlName="members"
                  [(ngModel)]="members"
                  required
                >
                  <option *ngFor="let m of members">
                    {{ m.user.id }}
                  </option>
                </select>

                <div>Please select member.</div>
              </div>
            </div>

            <!-- cliquer sur submit appliquer addUser() -->
            <div class="mt-2">
              <button
                type="submit"
                class="btn btn-primary me-2"
                (click)="sendInvitationByProject()"
              >
                Send Invitation
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  <h1>
    {{ title }}
  </h1>
</div>

<div class="container-xxl flex-grow-1 container-p-y">
  <div class="row">
    <div class="col-md-12">
      <div class="card mb-4">
        <h5 class="card-header">Liste Invitation</h5>
        <!-- Account -->
        <div class="card-body"></div>
        <hr class="my-0" />
        <div class="card-body"></div>
        <table class="table">
          <thead class="thead-dark">
            <tr>
              <th scope="col">Project</th>
              <th scope="col">Member</th>
              <th scope="col">Manager</th>
              <th scope="col">Status</th>
              <th scope="col">Date</th>
              <th scope="col">Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let inv of sendedInvitations">
              <td>
                {{ inv.project.title }}
              </td>
              <td>
                {{ inv.member.user.firstName }} {{ inv.member.user.lastName }}
              </td>
              <td>
                {{ inv.manager.user.firstName }} {{ inv.manager.user.lastName }}
              </td>
              <td>
                {{ inv.status }}
              </td>
              <td>
                {{ inv.date }}
              </td>
              <td>
                <button
                  type="submit"
                  id="submitButton"
                  onclick="validateSignupForm()"
                  class="submitButton pure-button pure-button-primary"
                  (click)="removeInvitationByProject(inv.id)"
                >
                  <span>Accept</span>
                </button>
                <button
                  type="submit"
                  id="submitButton"
                  onclick="validateSignupForm()"
                  class="submitButton pure-button pure-button-primary"
                  (click)="removeInvitationByProject(inv.id)"
                >
                  <span>Refuse</span>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
